---
- name: Create directory to Unarchive golang toolchain
  file:
    path: "{{ home_path }}/.local/share"
    state: directory
    mode: 0755
  become: no

- name: Check if golang toolchain exists
  stat:
    path: "{{ home_path }}/.local/share/go"
  register: go_path

- name: Unarchive golang toolchain
  unarchive:
    src: "https://storage.googleapis.com/golang/go{{ golang_version }}.linux-amd64.tar.gz"
    dest: "{{ home_path }}/.local/share"
    remote_src: yes
  become: no
  when: not go_path.stat.exists
